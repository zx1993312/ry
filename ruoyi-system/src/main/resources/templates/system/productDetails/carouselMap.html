<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
<th:block th:include="include :: header('字典数据列表')" />
<meta charset="UTF-8">
<title>产品详情</title>
<style type="text/css">
	#p1{
		font-size: 20px;
	}
	#p2{
		font-size: 20px;
	}
	#p3{
		font-size: 25px;
		color: red;
	}
	#d1{
		width: 200px;
		height: 50px;
		border: 2px solid red;
	}
	#d1>a{
		color: red;
		font-size: 15px;
		margin-left: 35px;
	}
	#d2{
		margin-top: 15px;
	}
	#p5{
		font-size: 20px;
		color: red;
		margin-top: 15px;
	}
	.well{
		font-size: 17px;
	}
	#d4{
		margin-top: 15px;
	}
	#p6{
		font-size: 30px;
		color: red;
	}
	#p7{
		font-size: 16px;
	}
	#p8{
		margin-left: 1040px;
	}
	#a20{
		font-size:18px;
		margin-left: 900px;
	}
	#i20{
		width: 1140px;
		height: 450px;
	}
	#s50{
		position: absolute;
		right:340px;
	}
</style>
<!-- <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link rel="stylesheet" type="text/css" href="../bootstrap3/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="../bootstrap3/font-awesome-4.7.0/css/font-awesome.css"/> -->
</head>
<body>
<section class="container">
  <h1>产品详情</h1>
  <span id="p1" class="glyphicon glyphicon-heart">千千惠生活</span>
  
  <div>
  	<!--轮播图开始  -->
  	<div id="myCarousel" class="carousel slide">
    <!-- 轮播（Carousel）指标 -->
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>   
    <!-- 轮播（Carousel）项目 -->
    <div class="carousel-inner">
        <div th:each="deatilPicture:${deatilPicture}" class="item">
            <img id="i20" th:src="'/img/'+${deatilPicture.deatilPicture}" alt="First slide">
            <div class="carousel-caption"></div>
        </div>
        
        
    </div>
    <!-- 轮播（Carousel）导航 -->
    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>
  	<!--轮播图结束  -->
  	<div th:each="product:${product}">
    <div th:each="setMeal:${setMeal}">
    <div th:each="shop:${shop}">
    <span id="p2" th:text="${product.briefIntroduction}"></span><br>
    <!-- 价格和门市价 -->
    ¥<span id="p3" class="jpy" th:text="${setMeal.retailPrice}">108</span><s th:text=${setMeal.marketPrice}>门市价148</s><br>
    <!--已售和库存  -->
    已售:<span id="p4" th:text="${product.soldNumber}">822</span><span id="s50">库存:</span><span th:text="${product.stockNumber}" id="p8">77</span>
    <div class="well" th:text="${setMeal.setMealName}">选择套餐</div>
    <div id="d1"><a href="" th:text="${setMeal.setMealContent}">一大一小自助餐</a></div>
    <div id="d2" style="border-top:1px dashed #cccccc;height: 1px;overflow:hidden"></div>
    <span id=p5 th:text="${product.briefIntroduction}">套餐中“一小”是指身高在1.2m以下的儿童</span>
    <div id="d4" class="well">商家信息</div>
    
    <input id="productId" type="hidden" th:value="${product.id}">
    <input id="businessId" type="hidden" th:value="${shop.businessId}">
    
    <a href="/system/map"><span id="p6" class="glyphicon glyphicon-map-marker"></a></span><span id="p7" th:text="${shop.shopAddress}">艾博丽思大酒店<br>长春市高新区硅谷大街888号 （轻轨三号线电台街站对面）</span>
    <a id="a20" class="glyphicon glyphicon-earphone" th:text="${shop.contactNumber}">电话</a>
    <div  style="width: 100%;height: 100px; overflow: hidden;">
    	<a href="/system/productDetailsSM/list" style="width: 50%;height: 100px;background-color: #e8e8e8; display: inline-block;"><span style="font-size: 50px; text-align: center; line-height: 100px; margin-left: 30%">商城首页</span></a>
    	<a onclick="add()" th:href="'/system/productDetailsSA/list?id='+${product.id}"  style="width: 50%;height: 100px;background-color: red; display: inline-block; float: right;"><span style="font-size: 50px; color:black; text-align: center; line-height: 100px; margin-left: 30%">立即购买</span></a>
    </div>
  </div>
  </div>
  </div>
  </div>
  </section>
  <th:block th:include="include :: footer" />
</body>
<script type="text/javascript">
	//得到第一个轮播图设置active显示
	$(".item").eq(0).attr("class","item active");
	//让轮播图自己移动
	$("#myCarousel").carousel("cycle");
</script>
<!-- <script type="text/javascript" src="../bootstrap3/jquery.min.js"></script>
<script type="text/javascript" src="../bootstrap3/js/bootstrap.js"></script>
<script type="text/javascript" src="../bootstrap3/js/holder.js"></script>
<script type="text/javascript" src="../bootstrap3/js/html5shiv.min.js"></script>
<script type="text/javascript" src="../bootstrap3/js/css3-mediaqueries.js"></script>
<script type="text/javascript" src="../bootstrap3/js/respond.min.js"></script> -->
<script type="text/javascript">
var prefix = ctx + "system/order"
var prefix1 = ctx + "system/product"
	function add(){
	
		/* var imagepath = $("#remarks").val(); */
    	var userId = 2;
    	var orderNumber = new Date().getTime();
    	var productId = $("#productId").val();
    	var state = "2";
    	$.ajax({
            type: "post",
            datatype: "json",
            url:  prefix + '/add',
            data: {/* "userPicture": imagepath, */"orderNumber":orderNumber,"userId":userId,
            	"productId":productId, /*"unitPrice":unitPrice,"number":number, */"state":state},
            async: true,
            success: function (result) {
                //console.log(result);
				if (typeof callback == "function") {
   	                callback(result);
   	            }
   	            $.operate.successCallback(result);
            }
        });
	}
</script>
</html>